Ext.define("ExtThemeNeptune.Component",{override:"Ext.Component",initComponent:function(){this.callParent();if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var c=this,b=c.hasOwnProperty("border"),a=c.border;if(c.dock){c.border=null}c.callParent(arguments);if(b){c.border=a}else{delete c.border}}}});Ext.define("Ext.aria.FocusManager",{singleton:true,requires:["Ext.util.KeyNav","Ext.util.Observable"],mixins:{observable:"Ext.util.Observable"},enabled:false,windows:[],constructor:function(c){var f=this,e=f.whitelist,b,d,a;f.mixins.observable.constructor.call(f,c)},enable:function(){var a=this,b=Ext.getDoc();if(a.enabled){return}a.enabled=true;a.toggleKeyMap=new Ext.util.KeyMap({target:b,scope:a,defaultEventAction:"stopEvent",key:Ext.event.Event.F6,fn:a.toggleWindow});a.fireEvent("enable",a)},onComponentBlur:function(b,c){var a=this;if(a.focusedCmp===b){a.previousFocusedCmp=b}Ext.globalEvents.fireEvent("componentblur",a,b,a.previousFocusedCmp);return false},onComponentFocus:function(b,c){var a=this;if(Ext.globalEvents.fireEvent("beforecomponentfocus",a,b,a.previousFocusedCmp)===false){a.clearComponent(b);return}a.focusedCmp=b;return false},onComponentHide:Ext.emptyFn,toggleWindow:function(i,d){var f=this,g=f.windows,b=g.length,h=f.focusedCmp,a=0,j=0,c;if(b===1){return}c=h.isWindow?h:h.up("window");if(c){a=f.findWindowIndex(c)}if(d.shiftKey){j=a-1;if(j<0){j=b-1}}else{j=a+1;if(j===b){j=0}}c=g[j];if(c.cmp.isWindow){c.cmp.toFront()}c.cmp.focus(false,100);return false},addWindow:function(b){var a=this,c={cmp:b};a.windows.push(c)},removeWindow:function(b){var a=this,c=a.windows,d;if(c.length===1){return}d=a.findWindowIndex(b);if(d>=0){Ext.Array.erase(c,d,1)}},findWindowIndex:function(e){var d=this,f=d.windows,c=f.length,b=-1,a;for(a=0;a<c;a++){if(f[a].cmp===e){b=a;break}}return b}},function(){var a=Ext.FocusManager=Ext.aria.FocusManager;Ext.onReady(function(){a.enable()})});Ext.define("Ext.aria.Component",{override:"Ext.Component",requires:["Ext.aria.FocusManager"],ariaRenderAttributesToElement:true,statics:{ariaHighContrastModeCls:Ext.baseCSSPrefix+"aria-highcontrast"},ariaApplyAfterRenderAttributes:function(){var b=this,c=b.ariaRole,a;if(c!=="presentation"){a=b.ariaGetAfterRenderAttributes();b.ariaUpdate(a)}},ariaGetRenderAttributes:function(){var b=this,c=b.ariaRole,a={role:c};if(c==="presentation"||c===undefined){return a}if(b.hidden){a["aria-hidden"]=true}if(b.disabled){a["aria-disabled"]=true}if(b.ariaLabel){a["aria-label"]=b.ariaLabel}Ext.apply(a,b.ariaAttributes);return a},ariaGetAfterRenderAttributes:function(){var c=this,a={},b;if(!c.ariaLabel&&c.ariaLabelledBy){b=c.ariaGetLabelEl(c.ariaLabelledBy);if(b){a["aria-labelledby"]=b.id}}if(c.ariaDescribedBy){b=c.ariaGetLabelEl(c.ariaDescribedBy);if(b){a["aria-describedby"]=b.id}}return a},ariaUpdate:function(b,a){if(arguments.length===1){a=b;b=this.ariaGetEl()}if(!b){return}b.set(a)},ariaGetEl:function(){return this.el},ariaGetLabelEl:function(a){var c=this,b=null;if(a){if(/^#/.test(a)){a=a.replace(/^#/,"");b=Ext.get(a)}else{b=c.ariaGetEl().down(a)}}return b},ariaGetFocusEl:function(){var a=this.getFocusEl();while(a.isComponent){a=a.getFocusEl()}return a},onFocus:function(h,b,a){var d=this,g=Ext.aria.FocusManager,f,c;d.callParent(arguments);if(d.tooltip&&Ext.quickTipsActive){f=Ext.tip.QuickTipManager.getQuickTip();c=d.ariaGetEl();f.cancelShow(c);f.showByTarget(c)}if(d.hasFocus&&g.enabled){return g.onComponentFocus(d)}},onBlur:function(f,b,a){var c=this,d=Ext.aria.FocusManager;c.callParent(arguments);if(c.tooltip&&Ext.quickTipsActive){Ext.tip.QuickTipManager.getQuickTip().cancelShow(c.ariaGetEl())}if(!c.hasFocus&&d.enabled){return d.onComponentBlur(c)}},onDisable:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-disabled":true})},onEnable:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-disabled":false})},onHide:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-hidden":true})},onShow:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-hidden":false})}},function(){function a(){var f="http://www.html5accessibility.com/tests/clear.gif",d={},i=document.createElement("div"),g=Ext.get(i),c=i.style,e=document.createElement("img"),d={images:true,backgroundImages:true,borderColors:true,highContrastMode:false,lightOnDark:false};i.id="ui-helper-high-contrast";i.className="ui-helper-hidden-accessible";c.borderWidth="1px";c.borderStyle="solid";c.borderTopColor="#F00";c.borderRightColor="#FF0";c.backgroundColor="#FFF";c.width="2px";e.alt="";i.appendChild(e);document.body.appendChild(i);c.backgroundImage="url("+f+")";e.src=f;var h=function(n){var j=[],l=0,k;if(n.indexOf("rgb(")!==-1){j=n.replace("rgb(","").replace(")","").split(", ")}else{if(n.indexOf("#")!==-1){k=n.match(n.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/);if(k){j=["0x"+k[1],"0x"+k[2],"0x"+k[3]]}}}for(var m=0;m<j.length;m++){l+=parseInt(j[m])}return l};var b=function(l){var k=g.getStyle("backgroundImage"),j=Ext.getBody();d.images=e.offsetWidth===1;d.backgroundImages=!(k!==null&&(k==="none"||k==="url(invalid-url:)"));d.borderColors=!(g.getStyle("borderTopColor")===g.getStyle("borderRightColor"));d.highContrastMode=!d.images||!d.backgroundImages;d.lightOnDark=h(g.getStyle("color"))-h(g.getStyle("backgroundColor"))>0;if(Ext.isIE){i.outerHTML=""}else{document.body.removeChild(i)}};b();return d}Ext.enableAria=true;Ext.onReady(function(){var c=Ext.supports,b,d;b=Ext.isWindows?a():{};c.HighContrastMode=!!b.highContrastMode;if(c.HighContrastMode){Ext.getBody().addCls(Ext.Component.ariaHighContrastModeCls)}})});Ext.define("Ext.aria.Img",{override:"Ext.Img",getElConfig:function(){var b=this,a;a=b.callParent();a.tabIndex=-1;return a},onRender:function(){var a=this;if(!a.alt){Ext.log.warn("For ARIA compliance, IMG elements SHOULD have an alt attribute")}a.callParent()}});Ext.define("Ext.aria.button.Button",{override:"Ext.button.Button",requires:["Ext.aria.Component"],showEmptyMenu:true,ariaGetRenderAttributes:function(){var b=this,c=b.menu,a;a=b.callParent(arguments);if(c){a["aria-haspopup"]=true;a["aria-owns"]=c.id}if(b.enableToggle){a["aria-pressed"]=b.pressed}return a},toggle:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-pressed":a.pressed})},ariaGetLabelEl:function(){return this.btnInnerEl}});Ext.define("Ext.aria.button.Split",{override:"Ext.button.Split"});Ext.define("Ext.aria.button.Cycle",{override:"Ext.button.Cycle"});Ext.define("Ext.aria.panel.Tool",{override:"Ext.panel.Tool",requires:["Ext.aria.Component","Ext.util.KeyMap"],tabIndex:0,destroy:function(){if(this.keyMap){this.keyMap.destroy()}this.callParent()},ariaAddKeyMap:function(b){var a=this;a.keyMap=new Ext.util.KeyMap(Ext.apply({target:a.el},b))},ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent(arguments);if(b.tooltip&&b.tooltipType==="qtip"){a["aria-label"]=b.tooltip}return a}});Ext.define("ExtThemeNeptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("ExtThemeNeptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});Ext.define("ExtThemeNeptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,Ext.baseCSSPrefix+"noborder-l",Ext.baseCSSPrefix+"noborder-b",Ext.baseCSSPrefix+"noborder-bl",Ext.baseCSSPrefix+"noborder-r",Ext.baseCSSPrefix+"noborder-rl",Ext.baseCSSPrefix+"noborder-rb",Ext.baseCSSPrefix+"noborder-rbl",Ext.baseCSSPrefix+"noborder-t",Ext.baseCSSPrefix+"noborder-tl",Ext.baseCSSPrefix+"noborder-tb",Ext.baseCSSPrefix+"noborder-tbl",Ext.baseCSSPrefix+"noborder-tr",Ext.baseCSSPrefix+"noborder-trl",Ext.baseCSSPrefix+"noborder-trb",Ext.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var y=this,f=0,z=8,A=4,l=2,e=1,a=y.owner,s=a.bodyBorder,n=a.border,j=y.collapsed,p=y.edgeMasks,k=y.noBorderClassTable,x=a.dockedItems.generation,w,d,v,h,r,m,u,o,g,q,t,c;if(y.initializedBorders===x){return}t=[];c=[];d=y.getBorderCollapseTable();k=y.getBorderClassTable?y.getBorderClassTable():k;y.initializedBorders=x;y.collapsed=false;v=y.getDockedItems();y.collapsed=j;for(r=0,m=v.length;r<m;r++){u=v[r];if(u.ignoreBorderManagement){continue}o=u.dock;q=h=0;t.length=0;c.length=0;if(o!=="bottom"){if(f&z){w=u.border}else{w=n;if(w!==false){h+=z}}if(w===false){q+=z}}if(o!=="left"){if(f&A){w=u.border}else{w=n;if(w!==false){h+=A}}if(w===false){q+=A}}if(o!=="top"){if(f&l){w=u.border}else{w=n;if(w!==false){h+=l}}if(w===false){q+=l}}if(o!=="right"){if(f&e){w=u.border}else{w=n;if(w!==false){h+=e}}if(w===false){q+=e}}if((g=u.lastBorderMask)!==q){u.lastBorderMask=q;if(g){c[0]=k[g]}if(q){t[0]=k[q]}}if((g=u.lastBorderCollapse)!==h){u.lastBorderCollapse=h;if(g){c[c.length]=d[g]}if(h){t[t.length]=d[h]}}if(c.length){u.removeCls(c)}if(t.length){u.addCls(t)}f|=p[o]}q=h=0;t.length=0;c.length=0;if(f&z){w=s}else{w=n;if(w!==false){h+=z}}if(w===false){q+=z}if(f&A){w=s}else{w=n;if(w!==false){h+=A}}if(w===false){q+=A}if(f&l){w=s}else{w=n;if(w!==false){h+=l}}if(w===false){q+=l}if(f&e){w=s}else{w=n;if(w!==false){h+=e}}if(w===false){q+=e}if((g=y.lastBodyBorderMask)!==q){y.lastBodyBorderMask=q;if(g){c[0]=k[g]}if(q){t[0]=k[q]}}if((g=y.lastBodyBorderCollapse)!==h){y.lastBodyBorderCollapse=h;if(g){c[c.length]=d[g]}if(h){t[t.length]=d[h]}}if(c.length){a.removeBodyCls(c)}if(t.length){a.addBodyCls(t)}},onRemove:function(b){var a=b.lastBorderMask;if(!b.isDestroyed&&!b.ignoreBorderManagement&&a){b.lastBorderMask=0;b.removeCls(this.noBorderClassTable[a])}this.callParent([b])}});Ext.define("ExtThemeNeptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){this.callParent()}}});Ext.define("Ext.aria.panel.Panel",{override:"Ext.panel.Panel",closeText:"Close Panel",collapseText:"Collapse Panel",expandText:"Expand Panel",untitledText:"Untitled Panel",onBoxReady:function(){var e=this,b=Ext.event.Event,c=e.collapseTool,g,f,d,a;e.callParent();if(c){c.ariaUpdate({"aria-label":e.collapsed?e.expandText:e.collapseText});c.ariaAddKeyMap({key:[b.ENTER,b.SPACE],handler:e.toggleCollapse,scope:e})}if(e.closable){toolBtn=e.down("tool[type=close]");if(toolBtn){toolBtn.ariaUpdate({"aria-label":e.closeText});toolBtn.ariaAddKeyMap({key:[b.ENTER,b.SPACE],handler:e.close,scope:e})}}g=e.getHeader()},setTitle:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-label":b})},createReExpander:function(g,f){var d=this,b=Ext.event.Event,e,a,c;e=d.getOppositeDirection(g);a=d.callParent(arguments);c=a.down("tool[type=expand-"+e+"]");if(c){c.on("boxready",function(){c.ariaUpdate({"aria-label":d.collapsed?d.expandText:d.collapseText});c.ariaAddKeyMap({key:[b.ENTER,b.SPACE],handler:d.toggleCollapse,scope:d})},{single:true})}return a},ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();if(b.collapsible){a["aria-expanded"]=!b.collapsed}return a},ariaGetAfterRenderAttributes:function(){var e=this,c={},b,a,d;b=e.callParent(arguments);if(e.ariaRole==="presentation"){return b}if(e.title){d=e.ariaGetTitleTextEl();if(d){c={"aria-labelledby":d.id}}else{c={"aria-label":e.title}}}else{if(e.ariaLabel){c={"aria-label":e.ariaLabel}}}Ext.apply(b,c);return b},ariaGetTitleTextEl:function(){var a=this.header;return a&&a.titleCmp&&a.titleCmp.textEl||null},afterExpand:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-expanded":true});if(a.collapseTool){a.ariaUpdate(a.collapseTool.getEl(),{"aria-label":a.collapseText})}},afterCollapse:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-expanded":false});if(a.collapseTool){a.ariaUpdate(a.collapseTool.getEl(),{"aria-label":a.expandText})}}});Ext.define("ExtThemeNeptune.container.ButtonGroup",{override:"Ext.container.ButtonGroup",usePlainButtons:false});Ext.define("Ext.aria.container.Viewport",{override:"Ext.container.Viewport",initComponent:function(){var g=this,b=g.items,f=g.layout,c,a,e,d;if(b&&f==="border"||(Ext.isObject(f)&&f.type==="border")){for(c=0,a=b.length;c<a;c++){e=b[c];if(e.region){Ext.applyIf(e,{ariaRole:"region",headerRole:"heading"})}}}g.callParent()},ariaGetAfterRenderAttributes:function(){var a=this.callParent();a.role=this.ariaRole;delete a["aria-label"];delete a["aria-labelledby"];return a}});Ext.define("Ext.aria.window.Window",{override:"Ext.window.Window",requires:["Ext.aria.panel.Panel","Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager","Ext.aria.FocusManager"],closeText:"Close Window",moveText:"Move Window",resizeText:"Resize Window",deltaMove:10,deltaResize:10,initComponent:function(){var a=this,b=a.tools;if(!b){a.tools=b=[]}if(!a.isToast){b.unshift({type:"resize",tooltip:a.resizeText},{type:"move",tooltip:a.moveText})}a.callParent()},onBoxReady:function(){var c=this,b=Ext.event.Event,a;c.callParent();if(c.isToast){return}if(c.draggable){a=c.down("tool[type=move]");if(a){c.ariaUpdate(a.getEl(),{"aria-label":c.moveText});a.keyMap=new Ext.util.KeyMap({target:a.el,key:[b.UP,b.DOWN,b.LEFT,b.RIGHT],handler:c.moveWindow,scope:c})}}if(c.resizable){a=c.down("tool[type=resize]");if(a){c.ariaUpdate(a.getEl(),{"aria-label":c.resizeText});a.keyMap=new Ext.util.KeyMap({target:a.el,key:[b.UP,b.DOWN,b.LEFT,b.RIGHT],handler:c.resizeWindow,scope:c})}}},onEsc:function(a,c){var b=this;if(c.within(b.el)){c.stopEvent();b.close()}},onShow:function(){var a=this;a.callParent(arguments);Ext.aria.FocusManager.addWindow(a)},afterHide:function(){var a=this;Ext.aria.FocusManager.removeWindow(a);a.callParent(arguments)},moveWindow:function(d,c){var b=this,g=b.deltaMove,f=b.getPosition(),a=Ext.event.Event;switch(d){case a.RIGHT:f[0]+=g;break;case a.LEFT:f[0]-=g;break;case a.UP:f[1]-=g;break;case a.DOWN:f[1]+=g;break}b.setPagePosition(f);c.stopEvent()},resizeWindow:function(g,f){var d=this,h=d.deltaResize,c=d.getWidth(),a=d.getHeight(),b=Ext.event.Event;switch(g){case b.RIGHT:c+=h;break;case b.LEFT:c-=h;break;case b.UP:a-=h;break;case b.DOWN:a+=h;break}d.setSize(c,a);f.stopEvent()}});Ext.define("Ext.aria.form.field.Base",{override:"Ext.form.field.Base",requires:["Ext.util.Format","Ext.aria.Component"],ariaRenderAttributesToElement:false,msgTarget:"side",getSubTplData:function(){var c=this,a=Ext.util.Format.attributes,d,b;d=c.callParent(arguments);b=c.ariaGetRenderAttributes();delete b.role;d.inputAttrTpl=[d.inputAttrTpl,a(b)].join(" ");return d},ariaGetEl:function(){return this.inputEl},ariaGetRenderAttributes:function(){var c=this,d=c.readOnly,a=c.formatText,b;b=c.callParent();if(d!=null){b["aria-readonly"]=!!d}if(a&&!b.title){b.title=Ext.String.format(a,c.format)}return b},ariaGetAfterRenderAttributes:function(){var c=this,b=c.labelEl,a;a=c.callParent();if(b){a["aria-labelledby"]=b.id}return a},setReadOnly:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-readonly":b})},markInvalid:function(b,c){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-invalid":true})},clearInvalid:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-invalid":false})}});Ext.define("Ext.aria.form.field.Text",{override:"Ext.form.field.Text",requires:["Ext.aria.form.field.Base"],ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();if(b.allowBlank!==undefined){a["aria-required"]=!b.allowBlank}return a}});Ext.define("Ext.aria.form.field.TextArea",{override:"Ext.form.field.TextArea",requires:["Ext.aria.form.field.Text"],ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-multiline"]=true;return a}});Ext.define("Ext.aria.window.MessageBox",{override:"Ext.window.MessageBox",requires:["Ext.aria.window.Window","Ext.aria.form.field.Text","Ext.aria.form.field.TextArea","Ext.aria.form.field.Display","Ext.aria.button.Button"]});Ext.define("Ext.aria.form.FieldContainer",{override:"Ext.form.FieldContainer",ariaGetAfterRenderAttributes:function(){var b=this,a;a=b.callParent(arguments);if(b.fieldLabel&&b.labelEl){a["aria-labelledby"]=b.labelEl.id}return a}});Ext.define("Ext.aria.form.field.Checkbox",{override:"Ext.form.field.Checkbox",requires:["Ext.aria.form.field.Base"],isFieldLabelable:false,hideLabel:true,ariaGetEl:function(){return this.inputEl},ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent(arguments);a["aria-checked"]=b.getValue();if(b.required){a["aria-required"]=true}return a},ariaGetAfterRenderAttributes:function(){var c=this,b=c.boxLabelEl,a;a=c.callParent();if(c.boxLabel&&!c.fieldLabel&&b){a["aria-labelledby"]=b.id}return a},onChange:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-checked":a.getValue()})}});Ext.define("Ext.aria.form.CheckboxGroup",{override:"Ext.form.CheckboxGroup",requires:["Ext.aria.form.FieldContainer","Ext.aria.form.field.Base"],msgTarget:"side",setReadOnly:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-readonly":!!b})},markInvalid:function(b,c){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-invalid":!!c})},clearInvalid:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-invalid":false})}});Ext.define("Ext.aria.form.FieldSet",{override:"Ext.form.FieldSet",expandText:"Expand",collapseText:"Collapse",onBoxReady:function(){var c=this,d=c.checkboxCmp,e=c.toggleCmp,b=c.legend,a;c.callParent(arguments);if(!b){return}b.collapseImmune=true;b.getInherited().collapseImmune=true;if(d){d.collapseImmune=true;d.getInherited().collapseImmune=true;d.getActionEl().set({title:c.expandText+" "+c.title})}if(e){e.collapseImmune=true;e.getInherited().collapseImmune=true;e.keyMap=new Ext.util.KeyMap({target:e.el,key:[Ext.event.Event.ENTER,Ext.event.Event.SPACE],handler:function(f,h,g){h.stopEvent();c.toggle()},scope:c});a=e.getActionEl();if(c.collapsed){a.set({title:c.expandText+" "+c.title})}else{a.set({title:c.collapseText+" "+c.title})}}},ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent(arguments);a["aria-expanded"]=!b.collapsed;return a},setExpanded:function(a){var c=this,d=c.toggleCmp,b;c.callParent(arguments);c.ariaUpdate({"aria-expanded":a});if(d){b=d.getActionEl();if(!a){b.set({title:c.expandText+" "+c.title})}else{b.set({title:c.collapseText+" "+c.title})}}}});Ext.define("Ext.aria.form.RadioGroup",{override:"Ext.form.RadioGroup",requires:["Ext.aria.form.CheckboxGroup"],ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();if(b.allowBlank!==undefined){a["aria-required"]=!b.allowBlank}return a},ariaGetAfterRenderAttributes:function(){var b=this,a;a=b.callParent();if(b.labelEl){a["aria-labelledby"]=b.labelEl.id}return a}});Ext.define("Ext.aria.form.field.Picker",{override:"Ext.form.field.Picker",ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-haspopup"]=true;return a},ariaGetAfterRenderAttributes:function(){var c=this,b,a;b=c.callParent();a=c.getPicker();if(a){b["aria-owns"]=a.id}return b}});Ext.define("Ext.aria.view.View",{override:"Ext.view.View",initComponent:function(){var b=this,a;b.callParent();a=b.getSelectionModel();a.on({scope:b,select:b.ariaSelect,deselect:b.ariaDeselect});b.on({scope:b,refresh:b.ariaInitViewItems,itemadd:b.ariaItemAdd,itemremove:b.ariaItemRemove})},ariaGetRenderAttributes:function(){var b=this,a,c;a=b.callParent();c=b.getSelectionModel().getSelectionMode();if(c!=="SINGLE"){a["aria-multiselectable"]=true}if(b.title){a["aria-label"]=b.title}return a},ariaInitViewItems:function(){var g=this,b=g.pageSize||g.store.buffered,h=g.store.requestStart+1,c,f,e,d,a;c=g.getNodes();e=g.store.getTotalCount();for(d=0,a=c.length;d<a;d++){f=c[d];if(!f.id){f.setAttribute("id",Ext.id())}f.setAttribute("role",g.itemAriaRole);f.setAttribute("aria-selected",false);if(b){f.setAttribute("aria-setsize",e);f.setAttribute("aria-posinset",h+d)}}},ariaSelect:function(b,a){var d=this,c;c=d.getNode(a);if(c){c.setAttribute("aria-selected",true);d.ariaUpdate({"aria-activedescendant":c.id})}},ariaDeselect:function(b,a){var d=this,c;c=d.getNode(a);if(c){c.removeAttribute("aria-selected");d.ariaUpdate({"aria-activedescendant":undefined})}},ariaItemRemove:function(d,e,c){if(!c){return}var g=this,b,f,a;b=g.el.getAttribute("aria-activedescendant");for(f=0,a=c.length;f<a;f++){if(b===c[f].id){g.ariaUpdate({"aria-activedescendant":undefined});break}}},ariaItemAdd:function(b,c,a){this.ariaInitViewItems(b,c,a)},setTitle:function(b){var a=this;a.title=b;a.ariaUpdate({"aria-label":b})}});Ext.define("Ext.aria.view.BoundListKeyNav",{override:"Ext.view.BoundListKeyNav",requires:["Ext.aria.view.View"],focusItem:function(c){var b=this,a=b.view;if(typeof c==="number"){c=a.all.item(c)}if(c){a.ariaUpdate({"aria-activedescendant":Ext.id(c,b.id+"-")});b.callParent([c])}}});Ext.define("Ext.aria.form.field.Number",{override:"Ext.form.field.Number",ariaGetRenderAttributes:function(){var e=this,d=e.minValue,a=e.maxValue,c,b;c=e.callParent(arguments);b=e.getValue();if(d!==Number.NEGATIVE_INFINITY){c["aria-valuemin"]=isFinite(d)?d:"NaN"}if(a!==Number.MAX_VALUE){c["aria-valuemax"]=isFinite(a)?a:"NaN"}c["aria-valuenow"]=b!==null&&isFinite(b)?b:"NaN";return c},onChange:function(c){var b=this,a;b.callParent(arguments);a=b.getValue();b.ariaUpdate({"aria-valuenow":a!==null&&isFinite(a)?a:"NaN"})},setMinValue:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-valuemin":isFinite(a.minValue)?a.minValue:"NaN"})},setMaxValue:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-valuemax":isFinite(a.maxValue)?a.maxValue:"NaN"})}});Ext.define("ExtThemeNeptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});Ext.define("Ext.aria.view.BoundList",{override:"Ext.view.BoundList",onHide:function(){this.ariaUpdate({"aria-activedescendant":Ext.emptyString});this.callParent(arguments)}});Ext.define("Ext.aria.form.field.ComboBox",{override:"Ext.form.field.ComboBox",requires:["Ext.aria.form.field.Picker"],createPicker:function(){var b=this,a;a=b.callParent(arguments);if(a){b.mon(a,{highlightitem:b.ariaUpdateActiveDescendant,scope:b})}return a},ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-readonly"]=!!(!b.editable||b.readOnly);a["aria-expanded"]=!!b.isExpanded;a["aria-autocomplete"]="list";return a},setReadOnly:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-readonly":a.readOnly})},setEditable:function(a){var b=this;b.callParent(arguments);b.ariaUpdate({"aria-readonly":!b.editable})},onExpand:function(){var b=this,a=b.picker.getSelectedNodes();b.callParent(arguments);b.ariaUpdate({"aria-expanded":true,"aria-activedescendant":(a.length?a[0].id:undefined)})},onCollapse:function(){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-expanded":false,"aria-activedescendant":undefined})},ariaUpdateActiveDescendant:function(a){this.ariaUpdate({"aria-activedescendant":a.highlightedItem?a.highlightedItem.id:undefined})}});Ext.define("ExtThemeNeptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("Ext.aria.form.field.Date",{override:"Ext.form.field.Date",requires:["Ext.aria.form.field.Picker"],formatText:"Expected date format {0}",onCollapse:function(){var a=this;if(!a.doCancelFieldFocus){a.focus(false,60)}}});Ext.define("Ext.aria.form.field.Display",{override:"Ext.form.field.Display",requires:["Ext.aria.form.field.Base"],msgTarget:"none",ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-readonly"]=true;return a}});Ext.define("Ext.aria.tip.QuickTip",{override:"Ext.tip.QuickTip",showByTarget:function(f){var c=this,e,b,d,a,g;e=c.targets[f.id];if(!e){return}c.activeTarget=e;c.activeTarget.el=Ext.get(f).dom;c.anchor=c.activeTarget.anchor;b=f.getSize();d=f.getXY();c.showAt([d[0],d[1]+b.height])}});Ext.define("Ext.aria.picker.Color",{override:"Ext.picker.Color",requires:["Ext.aria.Component"],initComponent:function(){var a=this;a.callParent(arguments)},ariaGetEl:function(){return this.innerEl},onColorSelect:function(b,a){var c=this;if(a&&a.dom){c.ariaUpdate(c.eventEl,{"aria-activedescendant":a.dom.id})}},privates:{getFocusEl:function(){return this.el}}});Ext.define("ExtThemeNeptune.form.field.HtmlEditor",{override:"Ext.form.field.HtmlEditor",defaultButtonUI:"plain-toolbar"});Ext.define("Ext.aria.form.field.Time",{override:"Ext.form.field.Time",requires:["Ext.aria.form.field.ComboBox"],formatText:"Expected time format HH:MM AM or PM"});Ext.define("ExtThemeNeptune.panel.Table",{override:"Ext.panel.Table",initComponent:function(){var a=this;if(!a.hasOwnProperty("bodyBorder")&&!a.hideHeaders){a.bodyBorder=true}a.callParent()}});Ext.define("Ext.aria.grid.NavigationModel",{override:"Ext.grid.NavigationModel",preventWrap:true});Ext.define("Ext.aria.view.Table",{override:"Ext.view.Table",requires:["Ext.aria.view.View"],ariaGetRenderAttributes:function(){var e=this,b=e.plugins,f=true,c,d,a;c=e.callParent();if(b){for(d=0,a=b.length;d<a;d++){if("editing" in b[d]){f=false;break}}}c["aria-readonly"]=f;return c},ariaItemAdd:Ext.emptyFn,ariaItemRemove:Ext.emptyFn,ariaInitViewItems:Ext.emptyFn,ariaFindNode:function(b,a,f,c){var e=this,d;if(b.isCellModel){if(c>-1){d=e.getCellByPosition({row:f,column:c})}else{d=e.getCellByPosition({row:f,column:0})}}else{d=Ext.fly(e.getNode(a))}return d},ariaSelect:function(b,a,f,c){var e=this,d;d=e.ariaFindNode(b,a,f,c);if(d){d.set({"aria-selected":true});e.ariaUpdate({"aria-activedescendant":d.id})}},ariaDeselect:function(b,a,f,c){var e=this,d;d=e.ariaFindNode(b,a,f,c);if(d){d.set({"aria-selected":undefined});e.ariaUpdate({"aria-activedescendant":undefined})}},renderRow:function(a,d,b){var c=this,e=c.rowValues;e.ariaRowAttr='role="row"';return c.callParent(arguments)},renderCell:function(f,a,c,h,e,d){var g=this,b=g.cellValues;b.ariaCellAttr='role="gridcell"';b.ariaCellInnerAttr="";return g.callParent(arguments)},collectData:function(a,d){var b=this,c;c=b.callParent(arguments);Ext.applyIf(c,{ariaTableAttr:'role="presentation"',ariaTbodyAttr:'role="rowgroup"'});return c}});Ext.define("ExtThemeNeptune.grid.RowEditor",{override:"Ext.grid.RowEditor",buttonUI:"default-toolbar"});Ext.define("Ext.aria.grid.header.Container",{override:"Ext.grid.header.Container",ariaGetAfterRenderAttributes:function(){var b=this,a;a=b.callParent();delete a["aria-label"];return a}});Ext.define("Ext.aria.grid.column.Column",{override:"Ext.grid.column.Column",ariaSortStates:{ASC:"ascending",DESC:"descending"},ariaGetAfterRenderAttributes:function(){var d=this,b=d.sortState,c=d.ariaSortStates,a;a=d.callParent();a["aria-sort"]=c[b];return a},setSortState:function(e){var b=this,a=b.ariaSortStates,d=b.sortState,c;b.callParent(arguments);c=b.sortState;if(d!==c){b.ariaUpdate({"aria-sort":a[c]})}}});Ext.define("ExtThemeNeptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});Ext.define("Ext.aria.menu.Item",{override:"Ext.menu.Item",ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();if(b.menu){a["aria-haspopup"]=true}return a},ariaGetAfterRenderAttributes:function(){var b=this,c=b.menu,a;a=b.callParent();if(c&&c.rendered){a["aria-controls"]=c.ariaGetEl().id}if(b.plain){a["aria-label"]=b.text}else{a["aria-labelledby"]=b.textEl.id}return a},doExpandMenu:function(){var a=this,b=a.menu;a.callParent();if(b&&b.rendered){a.ariaUpdate({"aria-controls":b.ariaGetEl().id})}}});Ext.define("Ext.aria.menu.CheckItem",{override:"Ext.menu.CheckItem",ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-checked"]=b.menu?"mixed":!!b.checked;return a},setChecked:function(b,a){this.callParent([b,a]);this.ariaUpdate({"aria-checked":b})}});Ext.define("ExtThemeNeptune.menu.Separator",{override:"Ext.menu.Separator",border:true});Ext.define("ExtThemeNeptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("Ext.aria.slider.Thumb",{override:"Ext.slider.Thumb",move:function(c,b){var f=this,d=f.el,e=f.slider,a=e.vertical?"bottom":e.horizontalProp,h,g;c+="%";if(!b){d.dom.style[a]=c;e.fireEvent("move",e,c,f)}else{h={};h[a]=c;if(!Ext.supports.GetPositionPercentage){g={};g[a]=d.dom.style[a]}new Ext.fx.Anim({target:d,duration:350,from:g,to:h,callback:function(){e.fireEvent("move",e,c,f)}})}}});Ext.define("Ext.aria.slider.Tip",{override:"Ext.slider.Tip",init:function(b){var a=this,c=b.tipHideTimeout;a.onSlide=Ext.Function.createThrottled(a.onSlide,50,a);a.hide=Ext.Function.createBuffered(a.hide,c,a);a.callParent(arguments);b.on({scope:a,change:a.onSlide,move:a.onSlide,changecomplete:a.hide})}});Ext.define("Ext.aria.slider.Multi",{override:"Ext.slider.Multi",tipHideTimeout:1000,animate:false,tabIndex:0,ariaGetRenderAttributes:function(){var b=this,a;a=b.callParent();a["aria-minvalue"]=b.minValue;a["aria-maxvalue"]=b.maxValue;a["aria-valuenow"]=b.getValue(0);return a},getSubTplData:function(){var c=this,a=Ext.util.Format.attributes,d,b;d=c.callParent(arguments);b=c.ariaGetRenderAttributes();delete b.role;d.inputAttrTpl=a(b);return d},onKeyDown:function(d){var b=this,a,c;if(b.disabled||b.thumbs.length!==1){d.preventDefault();return}a=d.getKey();switch(a){case d.HOME:d.stopEvent();b.setValue(0,b.minValue,undefined,true);return;case d.END:d.stopEvent();b.setValue(0,b.maxValue,undefined,true);return;case d.PAGE_UP:d.stopEvent();c=b.getValue(0)-b.keyIncrement*10;b.setValue(0,c,undefined,true);return;case d.PAGE_DOWN:d.stopEvent();c=b.getValue(0)+b.keyIncrement*10;b.setValue(0,c,undefined,true);return}b.callParent(arguments)},setMinValue:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-minvalue":b})},setMaxValue:function(b){var a=this;a.callParent(arguments);a.ariaUpdate({"aria-maxvalue":b})},setValue:function(a,c){var b=this;b.callParent(arguments);if(a===0){b.ariaUpdate({"aria-valuenow":c})}}});Ext.define("Ext.aria.tab.Tab",{override:"Ext.tab.Tab",closeText:"closable",ariaGetAfterRenderAttributes:function(){var b=this,a;a=b.callParent(arguments);a["aria-selected"]=!!b.active;if(b.card&&b.card.getEl()){a["aria-controls"]=b.card.getEl().id}return a},activate:function(a){this.callParent([a]);this.ariaUpdate({"aria-selected":true})},deactivate:function(a){this.callParent([a]);this.ariaUpdate({"aria-selected":false})}});Ext.define("Ext.aria.tab.Bar",{override:"Ext.tab.Bar",requires:["Ext.aria.tab.Tab"],findNextActivatable:function(a){var c=this,b;b=c.callParent(arguments);if(!b){b=c.activeTab}return b}});Ext.define("Ext.aria.tab.Panel",{override:"Ext.tab.Panel",requires:["Ext.layout.container.Card","Ext.aria.tab.Bar"],isTabPanel:true,onAdd:function(b,a){b.ariaRole="tabpanel";this.callParent(arguments)},setActiveTab:function(c){var g=this,b,f,e,d,a;g.callParent(arguments);b=g.getRefItems();for(d=0,a=b.length;d<a;d++){f=b[d];if(f.ariaRole==="tabpanel"){e=f===c;f.ariaUpdate({"aria-expanded":e,"aria-hidden":!e})}}},ariaIsOwnTab:function(a){return a.isTab&&a.isGroupedBy.ownerCt===this}});Ext.define("Ext.aria.window.Toast",{override:"Ext.window.Toast",initComponent:function(){if(this.autoClose){this.closable=false}this.callParent()}});Ext.define("Ext.ux.BoxReorderer",{requires:["Ext.dd.DD"],mixins:{observable:"Ext.util.Observable"},itemSelector:".x-box-item",animate:100,constructor:function(){this.mixins.observable.constructor.apply(this,arguments)},init:function(a){var b=this;b.container=a;b.animatePolicy={};b.animatePolicy[a.getLayout().names.x]=true;b.container.on({scope:b,boxready:b.onBoxReady,beforedestroy:b.onContainerDestroy})},onContainerDestroy:function(){var a=this.dd;if(a){a.unreg();this.dd=null}},onBoxReady:function(){var c=this,b=c.container.getLayout(),d=b.names,a;a=c.dd=new Ext.dd.DD(b.innerCt,c.container.id+"-reorderer");Ext.apply(a,{animate:c.animate,reorderer:c,container:c.container,getDragCmp:c.getDragCmp,clickValidator:Ext.Function.createInterceptor(a.clickValidator,c.clickValidator,c,false),onMouseDown:c.onMouseDown,startDrag:c.startDrag,onDrag:c.onDrag,endDrag:c.endDrag,getNewIndex:c.getNewIndex,doSwap:c.doSwap,findReorderable:c.findReorderable});a.dim=d.width;a.startAttr=d.beforeX;a.endAttr=d.afterX},getDragCmp:function(a){return this.container.getChildByElement(a.getTarget(this.itemSelector,10))},clickValidator:function(b){var a=this.getDragCmp(b);return !!(a&&a.reorderable!==false)},onMouseDown:function(g){var f=this,a=f.container,d,b,c;f.dragCmp=f.getDragCmp(g);if(f.dragCmp){b=f.dragCmp.getEl();f.startIndex=f.curIndex=a.items.indexOf(f.dragCmp);c=b.getBox();f.lastPos=c[f.startAttr];d=a.el.getBox();if(f.dim==="width"){f.minX=d.left;f.maxX=d.right-c.width;f.minY=f.maxY=c.top;f.deltaX=g.getX()-c.left}else{f.minY=d.top;f.maxY=d.bottom-c.height;f.minX=f.maxX=c.left;f.deltaY=g.getY()-c.top}f.constrainY=f.constrainX=true}},startDrag:function(){var b=this,a=b.dragCmp;if(a){a.setPosition=Ext.emptyFn;a.animate=false;if(b.animate){b.container.getLayout().animatePolicy=b.reorderer.animatePolicy}b.dragElId=a.getEl().id;b.reorderer.fireEvent("StartDrag",b,b.container,a,b.curIndex);a.suspendEvents();a.disabled=true;a.el.setStyle("zIndex",100)}else{b.dragElId=null}},findReorderable:function(c){var d=this,a=d.container.items,b;if(a.getAt(c).reorderable===false){b=a.getAt(c);if(c>d.startIndex){while(b&&b.reorderable===false){c++;b=a.getAt(c)}}else{while(b&&b.reorderable===false){c--;b=a.getAt(c)}}}c=Math.min(Math.max(c,0),a.getCount()-1);if(a.getAt(c).reorderable===false){return -1}return c},doSwap:function(d){var f=this,b=f.container.items,a=f.container,e=f.container._isLayoutRoot,h,c,g;d=f.findReorderable(d);if(d===-1){return}f.reorderer.fireEvent("ChangeIndex",f,a,f.dragCmp,f.startIndex,d);h=b.getAt(f.curIndex);c=b.getAt(d);b.remove(h);g=Math.min(Math.max(d,0),b.getCount()-1);b.insert(g,h);b.remove(c);b.insert(f.curIndex,c);a._isLayoutRoot=true;a.updateLayout();a._isLayoutRoot=e;f.curIndex=d},onDrag:function(c){var b=this,a;a=b.getNewIndex(c.getPoint());if((a!==undefined)){b.reorderer.fireEvent("Drag",b,b.container,b.dragCmp,b.startIndex,b.curIndex);b.doSwap(a)}},endDrag:function(d){if(d){d.stopEvent()}var c=this,b=c.container.getLayout(),a;if(c.dragCmp){delete c.dragElId;delete c.dragCmp.setPosition;c.dragCmp.animate=true;c.dragCmp.lastBox[b.names.x]=c.dragCmp.getPosition(true)[b.names.widthIndex];c.container._isLayoutRoot=true;c.container.updateLayout();c.container._isLayoutRoot=undefined;a=Ext.fx.Manager.getFxQueue(c.dragCmp.el.id)[0];if(a){a.on({afteranimate:c.reorderer.afterBoxReflow,scope:c})}else{Ext.Function.defer(c.reorderer.afterBoxReflow,1,c)}if(c.animate){delete b.animatePolicy}c.reorderer.fireEvent("drop",c,c.container,c.dragCmp,c.startIndex,c.curIndex)}},afterBoxReflow:function(){var a=this;a.dragCmp.el.setStyle("zIndex","");a.dragCmp.disabled=false;a.dragCmp.resumeEvents()},getNewIndex:function(h){var g=this,a=g.getDragEl(),b=Ext.fly(a).getBox(),l,f,k,d=0,c=g.container.items.items,e=c.length,j=g.lastPos;g.lastPos=b[g.startAttr];for(;d<e;d++){l=c[d].getEl();if(l.is(g.reorderer.itemSelector)){f=l.getBox();k=f[g.startAttr]+(f[g.dim]>>1);if(d<g.curIndex){if((b[g.startAttr]<j)&&(b[g.startAttr]<(k-5))){return d}}else{if(d>g.curIndex){if((b[g.startAttr]>j)&&(b[g.endAttr]>(k+5))){return d}}}}}}});Ext.define("Ext.ux.CellDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.celldragdrop",uses:["Ext.view.DragZone"],enforceType:false,applyEmptyText:false,emptyText:"",dropBackgroundColor:"green",noDropBackgroundColor:"red",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(a){var b=this;a.on("render",b.onViewRender,b,{single:true})},destroy:function(){var a=this;Ext.destroy(a.dragZone,a.dropZone)},enable:function(){var a=this;if(a.dragZone){a.dragZone.unlock()}if(a.dropZone){a.dropZone.unlock()}a.callParent()},disable:function(){var a=this;if(a.dragZone){a.dragZone.lock()}if(a.dropZone){a.dropZone.lock()}a.callParent()},onViewRender:function(a){var b=this,c;if(b.enableDrag){if(b.containerScroll){c=a.getEl()}b.dragZone=new Ext.view.DragZone({view:a,ddGroup:b.dragGroup||b.ddGroup,dragText:b.dragText,containerScroll:b.containerScroll,scrollEl:c,getDragData:function(j){var h=this.view,i=j.getTarget(h.getItemSelector()),g=h.getRecord(i),f=j.getTarget(h.getCellSelector()),d,k;if(i){d=document.createElement("div");d.className="x-form-text";d.appendChild(document.createTextNode(f.textContent||f.innerText));k=h.getHeaderByCell(f);return{event:new Ext.EventObjectImpl(j),ddel:d,item:j.target,columnName:k.dataIndex,record:g}}},onInitDrag:function(e,k){var h=this,j=h.dragData,g=h.view,d=g.getSelectionModel(),f=j.record,i=j.ddel;if(!d.isSelected(f)){d.select(f,true)}Ext.fly(h.ddel).update(i.textContent||i.innerText);h.proxy.update(h.ddel);h.onStartDrag(e,k);return true}})}if(b.enableDrop){b.dropZone=new Ext.dd.DropZone(a.el,{view:a,ddGroup:b.dropGroup||b.ddGroup,containerScroll:true,getTargetFromEvent:function(h){var g=this,f=g.view,d=h.getTarget(f.cellSelector),i,j;if(d){i=f.findItemByChild(d);j=f.getHeaderByCell(d);if(i&&j){return{node:d,record:f.getRecord(i),columnName:j.dataIndex}}}},onNodeEnter:function(k,d,j,i){var f=this,h=k.record.getField(k.columnName).type.toUpperCase(),g=i.record.getField(i.columnName).type.toUpperCase();delete f.dropOK;if(!k||k.node===i.item.parentNode){return}if(b.enforceType&&h!==g){f.dropOK=false;if(b.noDropCls){Ext.fly(k.node).addCls(b.noDropCls)}else{Ext.fly(k.node).applyStyles({backgroundColor:b.noDropBackgroundColor})}return false}f.dropOK=true;if(b.dropCls){Ext.fly(k.node).addCls(b.dropCls)}else{Ext.fly(k.node).applyStyles({backgroundColor:b.dropBackgroundColor})}},onNodeOver:function(h,d,g,f){return this.dropOK?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(i,d,h,g){var f=this.dropOK?b.dropCls:b.noDropCls;if(f){Ext.fly(i.node).removeCls(f)}else{Ext.fly(i.node).applyStyles({backgroundColor:""})}},onNodeDrop:function(h,d,g,f){if(this.dropOK){h.record.set(h.columnName,f.record.get(f.columnName));if(b.applyEmptyText){f.record.set(f.columnName,b.emptyText)}return true}},onCellDrop:Ext.emptyFn})}}});Ext.define("Ext.ux.DataTip",function(e){function c(){var f=this.isXType("panel")?this.body:this.el;if(this.dataTip.renderToTarget){this.dataTip.render(f)}this.dataTip.setTarget(f)}function a(g,f){if(g.rendered){if(g.host.fireEvent("beforeshowtip",g.eventHost,g,f)===false){return false}g.update(f)}else{if(Ext.isString(f)){g.html=f}else{g.data=f}}}function d(g){var h=this.view.getRecord(g.triggerElement),f;if(h){f=g.initialConfig.data?Ext.apply(g.initialConfig.data,h.data):h.data;return a(g,f)}else{return false}}function b(f){var g=Ext.getCmp(f.triggerElement.id);if(g&&(g.tooltip||f.tpl)){return a(f,g.tooltip||g)}else{return false}}return{extend:"Ext.tip.ToolTip",mixins:{plugin:"Ext.plugin.Abstract"},alias:"plugin.datatip",lockableScope:"both",constructor:function(f){var g=this;g.callParent([f]);g.mixins.plugin.constructor.call(g,f)},init:function(g){var f=this;f.mixins.plugin.init.call(f,g);g.dataTip=f;f.host=g;if(g.isXType("tablepanel")){f.view=g.getView();if(g.ownerLockable){f.host=g.ownerLockable}f.delegate=f.delegate||f.view.rowSelector;f.on("beforeshow",d)}else{if(g.isXType("dataview")){f.view=f.host;f.delegate=f.delegate||g.itemSelector;f.on("beforeshow",d)}else{if(g.isXType("form")){f.delegate="."+Ext.form.Labelable.prototype.formItemCls;f.on("beforeshow",b)}else{if(g.isXType("combobox")){f.view=g.getPicker();f.delegate=f.delegate||f.view.getItemSelector();f.on("beforeshow",d)}}}}if(g.rendered){c.call(g)}else{g.onRender=Ext.Function.createSequence(g.onRender,c)}}}});Ext.define("Ext.ux.DataView.Animated",{defaults:{duration:750,idProperty:"id"},constructor:function(a){Ext.apply(this,a||{},this.defaults)},init:function(a){var e=this,d=a.store,c=a.all,b={interval:20},g=e.duration;e.dataview=a;a.blockRefresh=true;a.updateIndexes=Ext.Function.createSequence(a.updateIndexes,function(){this.getTargetEl().select(this.itemSelector).each(function(i,j,h){i.dom.id=Ext.util.Format.format("{0}-{1}",a.id,d.getAt(h).internalId)},this)},a);e.dataviewID=a.id;e.cachedStoreData={};e.cacheStoreData(d.data||d.snapshot);a.on("resize",function(){var h=a.store;if(h.getCount()>0){}},this);a.store.on({datachanged:f,scope:this,buffer:50});function f(){var k=a.getTargetEl(),p=k.getY(),q=k.getPadding("t"),m=e.getAdded(d),w=e.getRemoved(d),r=e.getRemaining(d),y,v,t,o=new Ext.dom.Fly(),l=e.dataview.getInherited().rtl,u,h,n=l?"right":"left",s={};if(!k){return}Ext.iterate(w,function(A,i){t=e.dataviewID+"-"+A;Ext.fx.Manager.stopAnimation(t);i.dom=Ext.getDom(t);if(!i.dom){delete w[A]}});e.cacheStoreData(d);var j={},z={};Ext.iterate(r,function(A,i){if(o.attach(Ext.getDom(e.dataviewID+"-"+A))){u=j[A]={top:o.getY()-p-o.getMargin("t")-q};u[n]=e.getItemX(o)}else{delete r[A]}});a.refresh();Ext.iterate(w,function(A,i){k.dom.appendChild(i.dom);o.attach(i.dom).animate({duration:g,opacity:0,callback:function(C){var B=Ext.get(C.target.id);if(B){B.destroy()}}});delete i.dom});if(!d.getCount()){return}y=c.slice();for(v=y.length-1;v>=0;v--){t=d.getAt(v).internalId;o.attach(y[v]);z[t]={dom:o.dom,top:o.getY()-p-o.getMargin("t")-q};z[t][n]=e.getItemX(o);h=j[t]||z[t];s.position="absolute";s.top=h.top+"px";s[n]=h.left+"px";o.applyStyles(s)}var x=function(){var H=new Date()-b.taskStartTime,J=H/g;if(J>=1){s.position=s.top=s[n]="";for(t in z){o.attach(z[t].dom).applyStyles(s)}Ext.TaskManager.stop(b)}else{for(t in r){var B=j[t],E=z[t],C=B.top,F=E.top,A=B[n],G=E[n],D=J*Math.abs(C-F),I=J*Math.abs(A-G),K=C>F?C-D:C+D,i=A>G?A-I:A+I;s.top=K+"px";s[n]=i+"px";o.attach(E.dom).applyStyles(s)}}};Ext.iterate(m,function(A,i){if(o.attach(Ext.getDom(e.dataviewID+"-"+A))){o.setOpacity(0);o.animate({duration:g,opacity:1})}});Ext.TaskManager.stop(b);b.run=x;Ext.TaskManager.start(b);e.cacheStoreData(d)}},getItemX:function(b){var c=this.dataview.getInherited().rtl,a=b.up("");if(c){return a.getViewRegion().right-b.getRegion().right+b.getMargin("r")}else{return b.getX()-a.getX()-b.getMargin("l")-a.getPadding("l")}},cacheStoreData:function(a){var b=this.cachedStoreData={};a.each(function(c){b[c.internalId]=c})},getExisting:function(){return this.cachedStoreData},getExistingCount:function(){var c=0,b=this.getExisting();for(var a in b){c++}return c},getAdded:function(a){var c=this.cachedStoreData,b={};a.each(function(d){if(c[d.internalId]==null){b[d.internalId]=d}});return b},getRemoved:function(a){var b=this.cachedStoreData,c={},d;for(d in b){if(a.findBy(function(e){return e.internalId==d})==-1){c[d]=b[d]}}return c},getRemaining:function(a){var c=this.cachedStoreData,b={};a.each(function(d){if(c[d.internalId]!=null){b[d.internalId]=d}});return b}});Ext.define("Ext.ux.DataView.DragSelector",{requires:["Ext.dd.DragTracker","Ext.util.Region"],init:function(a){this.dataview=a;a.mon(a,{beforecontainerclick:this.cancelClick,scope:this,render:{fn:this.onRender,scope:this,single:true}})},onRender:function(){this.tracker=Ext.create("Ext.dd.DragTracker",{dataview:this.dataview,el:this.dataview.el,dragSelector:this,onBeforeStart:this.onBeforeStart,onStart:this.onStart,onDrag:this.onDrag,onEnd:this.onEnd});this.dragRegion=Ext.create("Ext.util.Region")},onBeforeStart:function(a){return a.target==this.dataview.getEl().dom},onStart:function(b){var c=this.dragSelector,a=this.dataview;this.dragging=true;c.fillRegions();c.getProxy().show();a.getSelectionModel().deselectAll()},cancelClick:function(){return !this.tracker.dragging},onDrag:function(l){var b=this.dragSelector,k=b.dataview.getSelectionModel(),q=b.dragRegion,p=b.bodyRegion,n=b.getProxy(),g=b.regions,c=g.length,m=this.startXY,s=this.getXY(),f=Math.min(m[0],s[0]),d=Math.min(m[1],s[1]),a=Math.abs(m[0]-s[0]),r=Math.abs(m[1]-s[1]),o,h,j;Ext.apply(q,{top:d,left:f,right:f+a,bottom:d+r});q.constrainTo(p);n.setBox(q);for(j=0;j<c;j++){o=g[j];h=q.intersect(o);if(h){k.select(j,true)}else{k.deselect(j)}}},onEnd:Ext.Function.createDelayed(function(c){var a=this.dataview,b=a.getSelectionModel(),d=this.dragSelector;this.dragging=false;d.getProxy().hide()},1),getProxy:function(){if(!this.proxy){this.proxy=this.dataview.getEl().createChild({tag:"div",cls:"x-view-selector"})}return this.proxy},fillRegions:function(){var a=this.dataview,b=this.regions=[];a.all.each(function(c){b.push(c.getRegion())});this.bodyRegion=a.getEl().getRegion()}});Ext.define("Ext.ux.DataView.Draggable",{requires:"Ext.dd.DragZone",ghostCls:"x-dataview-draggable-ghost",ghostTpl:['<tpl for=".">',"{title}","</tpl>"],init:function(a,b){this.dataview=a;a.on("render",this.onRender,this);Ext.apply(this,{itemSelector:a.itemSelector,ghostConfig:{}},b||{});Ext.applyIf(this.ghostConfig,{itemSelector:"img",cls:this.ghostCls,tpl:this.ghostTpl})},onRender:function(){var a=Ext.apply({},this.ddConfig||{},{dvDraggable:this,dataview:this.dataview,getDragData:this.getDragData,getTreeNode:this.getTreeNode,afterRepair:this.afterRepair,getRepairXY:this.getRepairXY});this.dragZone=Ext.create("Ext.dd.DragZone",this.dataview.getEl(),a)},getDragData:function(h){var a=this.dvDraggable,b=this.dataview,c=b.getSelectionModel(),g=h.getTarget(a.itemSelector),d,f;if(g){if(!b.isSelected(g)){c.select(b.getRecord(g))}d=b.getSelectedNodes();f={copy:true,nodes:d,records:c.getSelection(),item:true};if(d.length===1){f.single=true;f.ddel=g}else{f.multi=true;f.ddel=a.prepareGhost(c.getSelection())}return f}return false},getTreeNode:function(){},afterRepair:function(){this.dragging=false;var a=this.dragData.nodes,c=a.length,b;for(b=0;b<c;b++){Ext.get(a[b]).frame("#8db2e3",1)}},getRepairXY:function(c){if(this.dragData.multi){return false}else{var a=Ext.get(this.dragData.ddel),b=a.getXY();b[0]+=a.getPadding("t")+a.getMargin("t");b[1]+=a.getPadding("l")+a.getMargin("l");return b}},prepareGhost:function(a){return this.createGhost(a).getEl().dom},createGhost:function(b){var c=this,a;if(c.ghost){(a=c.ghost.store).loadRecords(b)}else{a=Ext.create("Ext.data.Store",{model:b[0].self});a.loadRecords(b);c.ghost=Ext.create("Ext.view.View",Ext.apply({renderTo:document.createElement("div"),store:a},c.ghostConfig));c.ghost.container.skipGarbageCollection=c.ghost.el.skipGarbageCollection=true}a.clearData();return c.ghost},destroy:function(){if(this.ghost){this.ghost.container.destroy();this.ghost.destroy()}}});Ext.define("Ext.ux.DataView.LabelEditor",{extend:"Ext.Editor",alignment:"tl-tl",completeOnEnter:true,cancelOnEsc:true,shim:false,autoSize:{width:"boundEl",height:"field"},labelSelector:"x-editable",requires:["Ext.form.field.Text"],constructor:function(a){a.field=a.field||Ext.create("Ext.form.field.Text",{allowOnlyWhitespace:false,selectOnFocus:true});this.callParent([a])},init:function(a){this.view=a;this.mon(a,"afterrender",this.bindEvents,this);this.on("complete",this.onSave,this)},bindEvents:function(){this.mon(this.view.getEl(),{click:{fn:this.onClick,scope:this}})},onClick:function(f,d){var c=this,b,a;if(Ext.fly(d).hasCls(c.labelSelector)&&!c.editing&&!f.ctrlKey&&!f.shiftKey){f.stopEvent();b=c.view.findItemByChild(d);a=c.view.store.getAt(c.view.indexOf(b));c.startEdit(d,a.data[c.dataIndex]);c.activeRecord=a}else{if(c.editing){c.field.blur();f.preventDefault()}}},onSave:function(a,b){this.activeRecord.set(this.dataIndex,b)}});Ext.ux.DataViewTransition=Ext.extend(Object,{defaults:{duration:750,idProperty:"id"},constructor:function(a){Ext.apply(this,a||{},this.defaults)},init:function(a){this.dataview=a;var b=this.idProperty;a.blockRefresh=true;a.updateIndexes=Ext.Function.createSequence(a.updateIndexes,function(){this.getTargetEl().select(this.itemSelector).each(function(d,e,c){d.id=d.dom.id=Ext.util.Format.format("{0}-{1}",a.id,a.store.getAt(c).get(b))},this)},a);this.dataviewID=a.id;this.cachedStoreData={};this.cacheStoreData(a.store.snapshot);a.store.on("datachanged",function(l){var j=a.getTargetEl(),f=l.getAt(0),n=this.getAdded(l),v=this.getRemoved(l),g=this.getRemaining(l),s=Ext.apply({},g,n);Ext.each(v,function(A){Ext.fly(this.dataviewID+"-"+A.get(this.idProperty)).animate({remove:false,duration:c,opacity:0,useDisplay:true})},this);if(f==undefined){this.cacheStoreData(l);return}var e=Ext.get(this.dataviewID+"-"+f.get(this.idProperty));var x=l.getCount(),i=e.getMargin("lr")+e.getWidth(),t=e.getMargin("bt")+e.getHeight(),p=j.getWidth(),d=Math.floor(p/i),o=Math.ceil(x/d),y=Math.ceil(this.getExistingCount()/d);j.applyStyles({display:"block",position:"relative"});var h={},z={},q={};Ext.iterate(g,function(C,B){var C=B.get(this.idProperty),A=q[C]=Ext.get(this.dataviewID+"-"+C);h[C]={top:A.getY()-j.getY()-A.getMargin("t")-j.getPadding("t"),left:A.getX()-j.getX()-A.getMargin("l")-j.getPadding("l")}},this);Ext.iterate(g,function(D,C){var A=h[D],B=q[D];if(B.getStyle("position")!="absolute"){q[D].applyStyles({position:"absolute",left:A.left+"px",top:A.top+"px",width:B.getWidth(!Ext.isIE||Ext.isStrict),height:B.getHeight(!Ext.isIE||Ext.isStrict)})}});var m=0;Ext.iterate(l.data.items,function(C){var G=C.get(b),B=q[G];var A=m%d,F=Math.floor(m/d),E=F*t,D=A*i;z[G]={top:E,left:D};m++},this);var r=new Date(),c=this.duration,k=this.dataviewID;var w=function(){var J=new Date()-r,L=J/c;if(L>=1){for(var A in z){Ext.fly(k+"-"+A).applyStyles({top:z[A].top+"px",left:z[A].left+"px"})}Ext.TaskManager.stop(u)}else{for(var A in z){if(!g[A]){continue}var D=h[A],G=z[A],E=D.top,H=G.top,C=D.left,I=G.left,F=L*Math.abs(E-H),K=L*Math.abs(C-I),M=E>H?E-F:E+F,B=C>I?C-K:C+K;Ext.fly(k+"-"+A).applyStyles({top:M+"px",left:B+"px"})}}};var u={run:w,interval:20,scope:this};Ext.TaskManager.start(u);Ext.iterate(n,function(B,A){Ext.fly(this.dataviewID+"-"+A.get(this.idProperty)).applyStyles({top:z[A.get(this.idProperty)].top+"px",left:z[A.get(this.idProperty)].left+"px"});Ext.fly(this.dataviewID+"-"+A.get(this.idProperty)).animate({remove:false,duration:c,opacity:1})},this);this.cacheStoreData(l)},this)},cacheStoreData:function(a){this.cachedStoreData={};a.each(function(b){this.cachedStoreData[b.get(this.idProperty)]=b},this)},getExisting:function(){return this.cachedStoreData},getExistingCount:function(){var c=0,b=this.getExisting();for(var a in b){c++}return c},getAdded:function(a){var b={};a.each(function(c){if(this.cachedStoreData[c.get(this.idProperty)]==undefined){b[c.get(this.idProperty)]=c}},this);return b},getRemoved:function(a){var b=[];for(var c in this.cachedStoreData){if(a.findExact(this.idProperty,Number(c))==-1){b.push(this.cachedStoreData[c])}}return b},getRemaining:function(a){var b={};a.each(function(c){if(this.cachedStoreData[c.get(this.idProperty)]!=undefined){b[c.get(this.idProperty)]=c}},this);return b}});Ext.define("Ext.ux.Explorer",{extend:"Ext.panel.Panel",xtype:"explorer",requires:["Ext.layout.container.Border","Ext.toolbar.Breadcrumb","Ext.tree.Panel"],config:{breadcrumb:{dock:"top",xtype:"breadcrumb",reference:"breadcrumb"},contentView:{xtype:"dataview",reference:"contentView",region:"center",cls:Ext.baseCSSPrefix+"explorer-view",itemSelector:"."+Ext.baseCSSPrefix+"explorer-item",tpl:'<tpl for="."><div class="'+Ext.baseCSSPrefix+'explorer-item"><div class="{iconCls}"><div class="'+Ext.baseCSSPrefix+'explorer-node-icon{[values.leaf ? " '+Ext.baseCSSPrefix+'explorer-leaf-icon" : ""]}"></div><div class="'+Ext.baseCSSPrefix+'explorer-item-text">{text}</div></div></div></tpl>'},store:null,tree:{xtype:"treepanel",reference:"tree",region:"west",width:200}},renderConfig:{selection:null},layout:"border",referenceHolder:true,defaultListenerScope:true,cls:Ext.baseCSSPrefix+"explorer",initComponent:function(){var b=this,a=b.getStore();b.dockedItems=[b.getBreadcrumb()];b.items=[b.getTree(),b.getContentView()];b.callParent()},applyBreadcrumb:function(b){var a=this.getStore();b=Ext.create(Ext.apply({store:a,selection:a.getRoot()},b));b.on("selectionchange","_onBreadcrumbSelectionChange",this);return b},applyContentView:function(a){var b=this.contentStore=new Ext.data.Store({model:this.getStore().model});a=Ext.create(Ext.apply({store:b},a));return a},applyTree:function(a){a=Ext.create(Ext.apply({store:this.getStore()},a));a.on("selectionchange","_onTreeSelectionChange",this);return a},updateSelection:function(b){var f=this,h=f.getReferences(),e=h.breadcrumb,i=h.tree,d=i.getSelectionModel(),g=f.contentStore,c,a;if(e.getSelection()!==b){e.setSelection(b)}if(d.getSelection()[0]!==b){d.select([b]);c=b.parentNode;if(c){c.expand()}a=i.getView();a.scrollRowIntoView(a.getRow(b))}g.removeAll();g.add(b.hasChildNodes()?b.childNodes:[b])},updateStore:function(a){this.getBreadcrumb().setStore(a)},privates:{_onTreeSelectionChange:function(a,b){this.setSelection(b[0])},_onBreadcrumbSelectionChange:function(b,a){this.setSelection(a)}}});Ext.define("Ext.ux.FieldReplicator",{alias:"plugin.fieldreplicator",init:function(a){if(!a.replicatorId){a.replicatorId=Ext.id()}a.on("blur",this.onBlur,this)},onBlur:function(e){var b=e.ownerCt,d=e.replicatorId,g=Ext.isEmpty(e.getRawValue()),f=b.query("[replicatorId="+d+"]"),c=f[f.length-1]===e,h,a;if(g&&!c){Ext.Function.defer(e.destroy,10,e)}else{if(!g&&c){if(e.onReplicate){e.onReplicate()}h=e.cloneConfig({replicatorId:d});a=b.items.indexOf(e);b.add(a+1,h)}}}});Ext.define("Ext.ux.GMapPanel",{extend:"Ext.panel.Panel",alias:"widget.gmappanel",requires:["Ext.window.MessageBox"],initComponent:function(){Ext.applyIf(this,{plain:true,gmapType:"map",border:false});this.callParent()},onBoxReady:function(){var a=this.center;this.callParent(arguments);if(a){if(a.geoCodeAddr){this.lookupCode(a.geoCodeAddr,a.marker)}else{this.createMap(a)}}else{Ext.Error.raise("center is required")}},createMap:function(a,b){var c=Ext.apply({},this.mapOptions);c=Ext.applyIf(c,{zoom:14,center:a,mapTypeId:google.maps.MapTypeId.HYBRID});this.gmap=new google.maps.Map(this.body.dom,c);if(b){this.addMarker(Ext.applyIf(b,{position:a}))}Ext.each(this.markers,this.addMarker,this);this.fireEvent("mapready",this,this.gmap)},addMarker:function(a){a=Ext.apply({map:this.gmap},a);if(!a.position){a.position=new google.maps.LatLng(a.lat,a.lng)}var b=new google.maps.Marker(a);Ext.Object.each(a.listeners,function(c,d){google.maps.event.addListener(b,c,d)});return b},lookupCode:function(b,a){this.geocoder=new google.maps.Geocoder();this.geocoder.geocode({address:b},Ext.Function.bind(this.onLookupComplete,this,[a],true))},onLookupComplete:function(c,b,a){if(b!="OK"){Ext.MessageBox.alert("Error",'An error occured: "'+b+'"');return}this.createMap(c[0].geometry.location,a)},afterComponentLayout:function(a,b){this.callParent(arguments);this.redraw()},redraw:function(){var a=this.gmap;if(a){google.maps.event.trigger(a,"resize")}}});Ext.define("Ext.ux.GroupTabRenderer",{extend:"Ext.plugin.Abstract",alias:"plugin.grouptabrenderer",tableTpl:new Ext.XTemplate('<div id="{view.id}-body" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table-resizer" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:5}),rowTpl:new Ext.XTemplate("{%",'Ext.Array.remove(values.itemClasses, "',Ext.baseCSSPrefix+'grid-row");','var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<div {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="'+Ext.baseCSSPrefix+'grouptab-row {[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</div>",{priority:5}),cellTpl:new Ext.XTemplate('{%values.tdCls = values.tdCls.replace(" '+Ext.baseCSSPrefix+'grid-cell "," ");%}','<div class="'+Ext.baseCSSPrefix+'grouptab-cell {tdCls}" {tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner" style="text-align: {align}; {style};">{value}</div>','<div class="x-grouptabs-corner x-grouptabs-corner-top-left"></div>','<div class="x-grouptabs-corner x-grouptabs-corner-bottom-left"></div>',"</div>",{priority:5}),selectors:{bodySelector:"div."+Ext.baseCSSPrefix+"grid-table-resizer",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-table-resizer",itemSelector:"div."+Ext.baseCSSPrefix+"grouptab-row",rowSelector:"div."+Ext.baseCSSPrefix+"grouptab-row",cellSelector:"div."+Ext.baseCSSPrefix+"grouptab-cell",getCellSelector:function(a){return a?a.getCellSelector():this.cellSelector}},init:function(b){var a=b.getView(),c=this;a.addTpl(c.tableTpl);a.addRowTpl(c.rowTpl);a.addCellTpl(c.cellTpl);Ext.apply(a,c.selectors)}});Ext.define("Ext.ux.GroupTabPanel",{extend:"Ext.Container",alias:"widget.grouptabpanel",requires:["Ext.tree.Panel","Ext.ux.GroupTabRenderer"],baseCls:Ext.baseCSSPrefix+"grouptabpanel",initComponent:function(a){var b=this;Ext.apply(b,a);b.store=b.createTreeStore();b.layout={type:"hbox",align:"stretch"};b.defaults={border:false};b.items=[{xtype:"treepanel",cls:"x-tree-panel x-grouptabbar",width:150,rootVisible:false,store:b.store,hideHeaders:true,animate:false,processEvent:Ext.emptyFn,border:false,plugins:[{ptype:"grouptabrenderer"}],viewConfig:{overItemCls:"",getRowClass:b.getRowClass},columns:[{xtype:"treecolumn",sortable:false,dataIndex:"text",flex:1,renderer:function(j,d,i,h,g,f,c){var e="";if(i.parentNode&&i.parentNode.parentNode===null){e+=" x-grouptab-first";if(i.previousSibling){e+=" x-grouptab-prev"}if(!i.get("expanded")||i.firstChild==null){e+=" x-grouptab-last"}}else{if(i.nextSibling===null){e+=" x-grouptab-last"}else{e+=" x-grouptab-center"}}if(i.data.activeTab){e+=" x-active-tab"}d.tdCls="x-grouptab"+e;return j}}]},{xtype:"container",flex:1,layout:"card",activeItem:b.mainItem,baseCls:Ext.baseCSSPrefix+"grouptabcontainer",items:b.cards}];b.callParent(arguments);b.setActiveTab(b.activeTab);b.setActiveGroup(b.activeGroup);b.mon(b.down("treepanel").getSelectionModel(),"select",b.onNodeSelect,b)},getRowClass:function(d,e,c,b){var a="";if(d.data.activeGroup){a+=" x-active-group"}return a},onNodeSelect:function(a,e){var d=this,b=d.store.getRootNode(),c;if(e.parentNode&&e.parentNode.parentNode===null){c=e}else{c=e.parentNode}if(d.setActiveGroup(c.get("id"))===false||d.setActiveTab(e.get("id"))===false){return false}while(b){b.set("activeTab",false);b.set("activeGroup",false);b=b.firstChild||b.nextSibling||b.parentNode.nextSibling}c.set("activeGroup",true);c.eachChild(function(f){f.set("activeGroup",true)});e.set("activeTab",true);a.view.refresh()},setActiveTab:function(b){var a=this,d=b,c;if(Ext.isString(b)){d=Ext.getCmp(d)}if(d===a.activeTab){return false}c=a.activeTab;if(a.fireEvent("beforetabchange",a,d,c)!==false){a.activeTab=d;if(a.rendered){a.down("container[baseCls="+Ext.baseCSSPrefix+"grouptabcontainer]").getLayout().setActiveItem(d)}a.fireEvent("tabchange",a,d,c)}return true},setActiveGroup:function(c){var b=this,d=c,a;if(Ext.isString(c)){d=Ext.getCmp(d)}if(d===b.activeGroup){return true}a=b.activeGroup;if(b.fireEvent("beforegroupchange",b,d,a)!==false){b.activeGroup=d;b.fireEvent("groupchange",b,d,a)}else{return false}return true},createTreeStore:function(){var b=this,a=b.prepareItems(b.items),c={text:".",children:[]},d=b.cards=[];b.activeGroup=b.activeGroup||0;Ext.each(a,function(g,e){var h=g.items.items,f=(h[g.mainItem]||h[0]),i={children:[]};i.id=f.id;i.text=f.title;i.iconCls=f.iconCls;i.expanded=true;i.activeGroup=(b.activeGroup===e);i.activeTab=i.activeGroup?true:false;if(i.activeTab){b.activeTab=i.id}if(i.activeGroup){b.mainItem=g.mainItem||0;b.activeGroup=i.id}Ext.each(h,function(j){if(j.id!==i.id){var k={id:j.id,leaf:true,text:j.title,iconCls:j.iconCls,activeGroup:i.activeGroup,activeTab:false};i.children.push(k)}delete j.title;delete j.iconCls;d.push(j)});c.children.push(i)});return Ext.create("Ext.data.TreeStore",{fields:["id","text","activeGroup","activeTab"],root:{expanded:true},proxy:{type:"memory",data:c}})},getActiveTab:function(){return this.activeTab},getActiveGroup:function(){return this.activeGroup}});Ext.define("Ext.ux.IFrame",{extend:"Ext.Component",alias:"widget.uxiframe",loadMask:"Loading...",src:"about:blank",renderTpl:['<iframe src="{src}" id="{id}-iframeEl" data-ref="iframeEl" name="{frameName}" width="100%" height="100%" frameborder="0"></iframe>'],childEls:["iframeEl"],initComponent:function(){this.callParent();this.frameName=this.frameName||this.id+"-frame"},initEvents:function(){var a=this;a.callParent();a.iframeEl.on("load",a.onLoad,a)},initRenderData:function(){return Ext.apply(this.callParent(),{src:this.src,frameName:this.frameName})},getBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){try{return this.getWin().document}catch(a){return null}},getWin:function(){var b=this,a=b.frameName,c=Ext.isIE?b.iframeEl.dom.contentWindow:window.frames[a];return c},getFrame:function(){var a=this;return a.iframeEl.dom},beforeDestroy:function(){this.cleanupListeners(true);this.callParent()},cleanupListeners:function(c){var b,d;if(this.rendered){try{b=this.getDoc();if(b){Ext.get(b).un(this._docListeners);if(c){for(d in b){if(b.hasOwnProperty&&b.hasOwnProperty(d)){delete b[d]}}}}}catch(a){}}},onLoad:function(){var b=this,d=b.getDoc(),a=b.onRelayedEvent;if(d){try{Ext.get(d).on(b._docListeners={mousedown:a,mousemove:a,mouseup:a,click:a,dblclick:a,scope:b})}catch(c){}Ext.get(this.getWin()).on("beforeunload",b.cleanupListeners,b);this.el.unmask();this.fireEvent("load",this)}else{if(b.src){this.el.unmask();this.fireEvent("error",this)}}},onRelayedEvent:function(c){var b=this.iframeEl,d=b.getTrueXY(),e=c.getXY(),a=c.getTrueXY();c.xy=[d[0]+a[0],d[1]+a[1]];c.injectEvent(b);c.xy=e},load:function(d){var a=this,c=a.loadMask,b=a.getFrame();if(a.fireEvent("beforeload",a,d)!==false){if(c&&a.el){a.el.mask(c)}b.src=a.src=(d||a.src)}}});Ext.define("Ext.ux.statusbar.StatusBar",{extend:"Ext.toolbar.Toolbar",alternateClassName:"Ext.ux.StatusBar",alias:"widget.statusbar",requires:["Ext.toolbar.TextItem"],cls:"x-statusbar",busyIconCls:"x-status-busy",busyText:"Loading...",autoClear:5000,emptyText:"&#160;",activeThreadId:0,initComponent:function(){var a=this.statusAlign==="right";this.callParent(arguments);this.currIconCls=this.iconCls||this.defaultIconCls;this.statusEl=Ext.create("Ext.toolbar.TextItem",{cls:"x-status-text "+(this.currIconCls||""),text:this.text||this.defaultText||""});if(a){this.cls+=" x-status-right";this.add("->");this.add(this.statusEl)}else{this.insert(0,this.statusEl);this.insert(1,"->")}},setStatus:function(e){var a=this;e=e||{};Ext.suspendLayouts();if(Ext.isString(e)){e={text:e}}if(e.text!==undefined){a.setText(e.text)}if(e.iconCls!==undefined){a.setIcon(e.iconCls)}if(e.clear){var f=e.clear,d=a.autoClear,b={useDefaults:true,anim:true};if(Ext.isObject(f)){f=Ext.applyIf(f,b);if(f.wait){d=f.wait}}else{if(Ext.isNumber(f)){d=f;f=b}else{if(Ext.isBoolean(f)){f=b}}}f.threadId=this.activeThreadId;Ext.defer(a.clearStatus,d,a,[f])}Ext.resumeLayouts(true);return a},clearStatus:function(e){e=e||{};var c=this,b=c.statusEl;if(e.threadId&&e.threadId!==c.activeThreadId){return c}var d=e.useDefaults?c.defaultText:c.emptyText,a=e.useDefaults?(c.defaultIconCls?c.defaultIconCls:""):"";if(e.anim){b.el.puff({remove:false,useDisplay:true,callback:function(){b.el.show();c.setStatus({text:d,iconCls:a})}})}else{c.setStatus({text:d,iconCls:a})}return c},setText:function(b){var a=this;a.activeThreadId++;a.text=b||"";if(a.rendered){a.statusEl.setText(a.text)}return a},getText:function(){return this.text},setIcon:function(a){var b=this;b.activeThreadId++;a=a||"";if(b.rendered){if(b.currIconCls){b.statusEl.removeCls(b.currIconCls);b.currIconCls=null}if(a.length>0){b.statusEl.addCls(a);b.currIconCls=a}}else{b.currIconCls=a}return b},showBusy:function(a){if(Ext.isString(a)){a={text:a}}a=Ext.applyIf(a||{},{text:this.busyText,iconCls:this.busyIconCls});return this.setStatus(a)}});Ext.define("Ext.ux.LiveSearchGridPanel",{extend:"Ext.grid.Panel",requires:["Ext.toolbar.TextItem","Ext.form.field.Checkbox","Ext.form.field.Text","Ext.ux.statusbar.StatusBar"],searchValue:null,matches:[],currentIndex:null,searchRegExp:null,caseSensitive:false,regExpMode:false,matchCls:"x-livesearch-match",defaultStatusText:"Nothing Found",initComponent:function(){var a=this;a.tbar=["Search",{xtype:"textfield",name:"searchField",hideLabel:true,width:200,listeners:{change:{fn:a.onTextFieldChange,scope:this,buffer:500}}},{xtype:"button",text:"&lt;",tooltip:"Find Previous Row",handler:a.onPreviousClick,scope:a},{xtype:"button",text:"&gt;",tooltip:"Find Next Row",handler:a.onNextClick,scope:a},"-",{xtype:"checkbox",hideLabel:true,margin:"0 0 0 4px",handler:a.regExpToggle,scope:a},"Regular expression",{xtype:"checkbox",hideLabel:true,margin:"0 0 0 4px",handler:a.caseSensitiveToggle,scope:a},"Case sensitive"];a.bbar=new Ext.ux.StatusBar({defaultText:a.defaultStatusText,name:"searchStatusBar"});a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.textField=a.down("textfield[name=searchField]");a.statusBar=a.down("statusbar[name=searchStatusBar]");a.view.on("cellkeydown",a.focusTextField,a)},focusTextField:function(b,i,c,a,f,h,g,d){if(g.getKey()===g.S){g.preventDefault();this.textField.focus()}},tagsRe:/<[^>]*>/gm,tagsProtect:"\x0f",getSearchValue:function(){var b=this,c=b.textField.getValue();if(c===""){return null}if(!b.regExpMode){c=Ext.String.escapeRegex(c)}else{try{new RegExp(c)}catch(a){b.statusBar.setStatus({text:a.message,iconCls:"x-status-error"});return null}if(c==="^"||c==="$"){return null}}return c},onTextFieldChange:function(){var f=this,e=0,b=f.view,a=b.cellSelector,c=b.innerSelector,d=f.visibleColumnManager.getColumns();b.refresh();f.statusBar.setStatus({text:f.defaultStatusText,iconCls:""});f.searchValue=f.getSearchValue();f.matches=[];f.currentIndex=null;if(f.searchValue!==null){f.searchRegExp=new RegExp(f.getSearchValue(),"g"+(f.caseSensitive?"":"i"));f.store.each(function(h,g){var i=b.getNode(h);if(i){Ext.Array.forEach(d,function(l){var j=Ext.fly(i).down(l.getCellInnerSelector(),true),n,m,k;if(j){n=j.innerHTML.match(f.tagsRe);m=j.innerHTML.replace(f.tagsRe,f.tagsProtect);m=m.replace(f.searchRegExp,function(o){++e;if(!k){f.matches.push({record:h,column:l});k=true}return'<span class="'+f.matchCls+'">'+o+"</span>"},f);Ext.each(n,function(o){m=m.replace(f.tagsProtect,o)});j.innerHTML=m}})}},f);if(e){f.currentIndex=0;f.gotoCurrent();f.statusBar.setStatus({text:Ext.String.format("{0} match{1} found.",e,e===1?"es":""),iconCls:"x-status-valid"})}}if(f.currentIndex===null){f.getSelectionModel().deselectAll();f.textField.focus()}},onPreviousClick:function(){var c=this,d=c.matches,b=d.length,a=c.currentIndex;if(b){c.currentIndex=a===0?b-1:a-1;c.gotoCurrent()}},onNextClick:function(){var c=this,d=c.matches,b=d.length,a=c.currentIndex;if(b){c.currentIndex=a===b-1?0:a+1;c.gotoCurrent()}},caseSensitiveToggle:function(b,a){this.caseSensitive=a;this.onTextFieldChange()},regExpToggle:function(b,a){this.regExpMode=a;this.onTextFieldChange()},privates:{gotoCurrent:function(){var a=this.matches[this.currentIndex];this.getNavigationModel().setPosition(a.record,a.column);this.getSelectionModel().select(a.record)}}});Ext.define("Ext.ux.PreviewPlugin",{extend:"Ext.plugin.Abstract",alias:"plugin.preview",requires:["Ext.grid.feature.RowBody"],hideBodyCls:"x-grid-row-body-hidden",bodyField:"",previewExpanded:true,setCmp:function(f){this.callParent(arguments);var d=this,c=d.cmp=f.isXType("gridview")?f.grid:f,a=d.bodyField,g=d.hideBodyCls,b=Ext.create("Ext.grid.feature.RowBody",{grid:c,getAdditionalData:function(l,i,j,m){var h=Ext.grid.feature.RowBody.prototype.getAdditionalData,k={rowBody:l[a],rowBodyCls:c.getView().previewExpanded?"":g};if(Ext.isFunction(h)){Ext.apply(k,h.apply(this,arguments))}return k}}),e=function(i,h){h.previewExpanded=d.previewExpanded;h.featuresMC.add(b);b.init(i)};if(c.view){e(c,c.view)}else{c.on({viewcreated:e,single:true})}},toggleExpanded:function(b){var c=this.getCmp(),a=c&&c.getView(),e=a.bufferedRenderer,d=a.scrollManager;if(c&&a&&b!==a.previewExpanded){this.previewExpanded=a.previewExpanded=!!b;a.refreshView();if(d){if(e){e.stretchView(a,e.getScrollHeight(true))}else{d.refresh(true)}}}}});Ext.define("Ext.ux.ProgressBarPager",{requires:["Ext.ProgressBar"],width:225,defaultText:"Loading...",defaultAnimCfg:{duration:1000,easing:"bounceOut"},constructor:function(a){if(a){Ext.apply(this,a)}},init:function(b){var a;if(b.displayInfo){this.parent=b;a=b.child("#displayItem");if(a){b.remove(a,true)}this.progressBar=Ext.create("Ext.ProgressBar",{text:this.defaultText,width:this.width,animate:this.defaultAnimCfg,style:{cursor:"pointer"},listeners:{el:{scope:this,click:this.handleProgressBarClick}}});b.displayItem=this.progressBar;b.add(b.displayItem);Ext.apply(b,this.parentOverrides)}},handleProgressBarClick:function(i){var f=this.parent,c=f.displayItem,g=this.progressBar.getBox(),h=i.getXY(),b=h[0]-g.x,a=Math.ceil(f.store.getTotalCount()/f.pageSize),d=Math.max(Math.ceil(b/(c.width/a)),1);f.store.loadPage(d)},parentOverrides:{updateInfo:function(){if(this.displayItem){var d=this.store.getCount(),b=this.getPageData(),c=d===0?this.emptyMsg:Ext.String.format(this.displayMsg,b.fromRecord,b.toRecord,this.store.getTotalCount()),a=b.pageCount>0?(b.currentPage/b.pageCount):0;this.displayItem.updateProgress(a,c,this.animate||this.defaultAnimConfig)}}}});Ext.define("Ext.ux.RowExpander",{extend:"Ext.grid.plugin.RowExpander"});Ext.define("Ext.ux.SlidingPager",{requires:["Ext.slider.Single","Ext.slider.Tip"],constructor:function(a){if(a){Ext.apply(this,a)}},init:function(b){var a=b.items.indexOf(b.child("#inputItem")),c;Ext.each(b.items.getRange(a-2,a+2),function(d){d.hide()});c=Ext.create("Ext.slider.Single",{width:114,minValue:1,maxValue:1,hideLabel:true,tipText:function(d){return Ext.String.format("Page <b>{0}</b> of <b>{1}</b>",d.value,d.slider.maxValue)},listeners:{changecomplete:function(e,d){b.store.loadPage(d)}}});b.insert(a+1,c);b.on({change:function(d,e){c.setMaxValue(e.pageCount);c.setValue(e.currentPage)}})}});Ext.define("Ext.ux.Spotlight",{baseCls:"x-spotlight",animate:true,duration:250,easing:null,active:false,constructor:function(a){Ext.apply(this,a)},createElements:function(){var c=this,b=c.baseCls,a=Ext.getBody();c.right=a.createChild({cls:b});c.left=a.createChild({cls:b});c.top=a.createChild({cls:b});c.bottom=a.createChild({cls:b});c.all=Ext.create("Ext.CompositeElement",[c.right,c.left,c.top,c.bottom])},show:function(b,d,a){var c=this;c.el=Ext.get(b);if(!c.right){c.createElements()}if(!c.active){c.all.setDisplayed("");c.active=true;Ext.on("resize",c.syncSize,c);c.applyBounds(c.animate,false)}else{c.applyBounds(false,false)}},hide:function(c,a){var b=this;Ext.un("resize",b.syncSize,b);b.applyBounds(b.animate,true)},syncSize:function(){this.applyBounds(false,false)},applyBounds:function(a,g){var j=this,e=j.el.getBox(),f=Ext.Element.getViewportWidth(),c=Ext.Element.getViewportHeight(),d=0,b=false,l,k,h;l={right:{x:e.right,y:c,width:(f-e.right),height:0},left:{x:0,y:0,width:e.x,height:0},top:{x:f,y:0,width:0,height:e.y},bottom:{x:0,y:(e.y+e.height),width:0,height:(c-(e.y+e.height))+"px"}};k={right:{x:e.right,y:e.y,width:(f-e.right)+"px",height:(c-e.y)+"px"},left:{x:0,y:0,width:e.x+"px",height:(e.y+e.height)+"px"},top:{x:e.x,y:0,width:(f-e.x)+"px",height:e.y+"px"},bottom:{x:0,y:(e.y+e.height),width:(e.x+e.width)+"px",height:(c-(e.y+e.height))+"px"}};if(g){h=Ext.clone(l);l=k;k=h}if(a){Ext.Array.forEach(["right","left","top","bottom"],function(i){j[i].setBox(l[i]);j[i].animate({duration:j.duration,easing:j.easing,to:k[i]})},this)}else{Ext.Array.forEach(["right","left","top","bottom"],function(i){j[i].setBox(Ext.apply(l[i],k[i]));j[i].repaint()},this)}},destroy:function(){var a=this;Ext.destroy(a.right,a.left,a.top,a.bottom);delete a.el;delete a.all}});Ext.define("Ext.ux.TabCloseMenu",{extend:"Ext.plugin.Abstract",alias:"plugin.tabclosemenu",mixins:{observable:"Ext.util.Observable"},closeTabText:"Close Tab",showCloseOthers:true,closeOthersTabsText:"Close Other Tabs",showCloseAll:true,closeAllTabsText:"Close All Tabs",extraItemsHead:null,extraItemsTail:null,constructor:function(a){this.callParent([a]);this.mixins.observable.constructor.call(this,a)},init:function(a){this.tabPanel=a;this.tabBar=a.down("tabbar");this.mon(this.tabPanel,{scope:this,afterlayout:this.onAfterLayout,single:true})},onAfterLayout:function(){this.mon(this.tabBar.el,{scope:this,contextmenu:this.onContextMenu,delegate:".x-tab"})},destroy:function(){this.callParent();Ext.destroy(this.menu)},onContextMenu:function(d,f){var c=this,g=c.createMenu(),e=true,h=true,b=c.tabBar.getChildByElement(f),a=c.tabBar.items.indexOf(b);c.item=c.tabPanel.getComponent(a);g.child("#close").setDisabled(!c.item.closable);if(c.showCloseAll||c.showCloseOthers){c.tabPanel.items.each(function(i){if(i.closable){e=false;if(i!==c.item){h=false;return false}}return true});if(c.showCloseAll){g.child("#closeAll").setDisabled(e)}if(c.showCloseOthers){g.child("#closeOthers").setDisabled(h)}}d.preventDefault();c.fireEvent("beforemenu",g,c.item,c);g.showAt(d.getXY())},createMenu:function(){var b=this;if(!b.menu){var a=[{itemId:"close",text:b.closeTabText,scope:b,handler:b.onClose}];if(b.showCloseAll||b.showCloseOthers){a.push("-")}if(b.showCloseOthers){a.push({itemId:"closeOthers",text:b.closeOthersTabsText,scope:b,handler:b.onCloseOthers})}if(b.showCloseAll){a.push({itemId:"closeAll",text:b.closeAllTabsText,scope:b,handler:b.onCloseAll})}if(b.extraItemsHead){a=b.extraItemsHead.concat(a)}if(b.extraItemsTail){a=a.concat(b.extraItemsTail)}b.menu=Ext.create("Ext.menu.Menu",{items:a,listeners:{hide:b.onHideMenu,scope:b}})}return b.menu},onHideMenu:function(){var a=this;a.fireEvent("aftermenu",a.menu,a)},onClose:function(){this.tabPanel.remove(this.item)},onCloseOthers:function(){this.doClose(true)},onCloseAll:function(){this.doClose(false)},doClose:function(b){var a=[];this.tabPanel.items.each(function(c){if(c.closable){if(!b||c!==this.item){a.push(c)}}},this);Ext.suspendLayouts();Ext.Array.forEach(a,function(c){this.tabPanel.remove(c)},this);Ext.resumeLayouts(true)}});